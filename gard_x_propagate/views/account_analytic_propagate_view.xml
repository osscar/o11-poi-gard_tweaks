<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <!-- Search Views -->
    <record id="view_account_analytic_propagate_group_filter" model="ir.ui.view">
      <field name="name">account.analytic.propagate.group.select</field>
      <field name="model">account.analytic.propagate.group</field>
      <field name="arch" type="xml">
        <search string="Search Propagate Groups">
          <field name="name" string="Group"
            filter_domain="['|', ('name','ilike',self), ('parent_id','ilike',self)]" />
          <field name="parent_id" />
          <filter name="active" string="Active" domain="[('active','=',True)]" />
          <separator />
          <group expand="0" string="Group By">
            <filter name="group_by_parent_id" string="Parent" />
          </group>
        </search>
      </field>
    </record>

    <!-- Form Views -->
    <record id="view_account_analytic_propagate_group_form" model="ir.ui.view">
      <field name="name">account.analytic.propagate.group.form</field>
      <field name="model">account.analytic.propagate.group</field>
      <field name="arch" type="xml">
        <form string="Propagate Groups">
          <group name="create_form">
            <field name="group_id" />
            <!-- domain="[('type', 'in', type)]"/> -->
          </group>
          <group name="create_form_accounts">
            <notebook>
              <page name="create_values" string="Create Values">
                <div>
                  <button name="button_unlink_wizard_line" type="object"
                    attrs="{'invisible':[('account_analytic_default_ids', '=', [])]}"
                    icon="fa-times" string="Clear Values"
                    confirm="This will clear all current lines. Are you sure you want to continue?" />
                  <field name="account_analytic_default_id"
                    attrs="{'invisible':[('account_analytic_default_ids', '=', [])]}" />
                </div>
                <field name="wizard_line">
                  <tree>
                    <field name="parent_id" />
                    <field name="name" />
                    <field name="code" />
                    <field name="is_default" />
                  </tree>
                </field>
              </page>
            </notebook>
          </group>
          <footer>
            <button string="Create" name="button_create" type="object" class="btn-primary"
              confirm="This will create the analytic accounts. Do you want to continue?" />/> <button
              string="Cancel" class="btn-default" special="cancel" />
          </footer>
        </form>
      </field>
    </record>


    <!-- Tree Views -->
    <record id="view_account_analytic_propagate_group_tree" model="ir.ui.view">
      <field name="name">account.analytic.propagate.group.tree</field>
      <field name="model">account.analytic.propagate.group</field>
      <field name="arch" type="xml">
        <tree string="Propagate Group">
          <field name="name" />
          <field name="parent_id" />
        </tree>
      </field>
    </record>

    <!-- Actions -->
    <record id="action_view_account_analytic_propagate_group" model="ir.actions.act_window">
      <field name="name">Propagate Groups</field>
      <field name="res_model">account.analytic.propagate.group</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_account_analytic_propagate_create" />
      <field name="target">new</field>
    </record>

    <!-- Menus -->

  </data>
</odoo>